# Application Settings
APP_ENV=production
APP_DEBUG=false
APP_URL=https://contatos.example.com
APP_PORT=8080

# Container Registry Settings
# Format: registry.example.com or ghcr.io or docker.io
REGISTRY_URL=ghcr.io
REGISTRY_NAMESPACE=cristianomzn
IMAGE_NAME=contatos
IMAGE_TAG=latest

# Database Settings
DB_HOST=db
DB_PORT=3306
DB_DATABASE=contatos
DB_USERNAME=contatos
DB_PASSWORD=your_secure_database_password_here
DB_ROOT_PASSWORD=your_secure_root_password_here
DB_EXTERNAL_PORT=3306

# PHP-FPM Performance Tuning
# PM Mode: dynamic (recommended for production with varying load)
#          ondemand (for low-traffic or memory-constrained environments)
#          static (for consistent high traffic with dedicated resources)
PHP_FPM_PM=dynamic

# Dynamic mode settings (used when PM=dynamic)
PHP_FPM_MAX_CHILDREN=50          # Maximum number of child processes
PHP_FPM_START_SERVERS=5          # Number of processes started on boot
PHP_FPM_MIN_SPARE_SERVERS=5      # Minimum idle processes
PHP_FPM_MAX_SPARE_SERVERS=35     # Maximum idle processes
PHP_FPM_MAX_REQUESTS=1000        # Requests before process respawn

# Production tuning recommendations:
# - Low traffic (< 100 concurrent users): PM=ondemand, MAX_CHILDREN=20
# - Medium traffic (100-500 users): PM=dynamic, MAX_CHILDREN=50 (current)
# - High traffic (500+ users): PM=dynamic, MAX_CHILDREN=100-200
# 
# Memory calculation: MAX_CHILDREN * ~50MB per process
# Example: 50 children * 50MB = 2.5GB RAM needed

# Application Features
RUN_MIGRATIONS=false             # Run database migrations on container start
CLEAR_CACHE=false                # Clear application cache on container start

# Development Settings (used in docker-compose.override.yml)
# Uncomment for local development
# APP_ENV=development
# APP_DEBUG=true
# APP_PORT=8080
# DB_EXTERNAL_PORT=3307
# RUN_MIGRATIONS=true
